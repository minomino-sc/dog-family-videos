<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ¶ ã‚ªãƒˆã¡ã‚ƒã‚“å‹•ç”» ğŸ¶</title>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont;
    background: #f5f7fb;
    margin: 0;
    padding: 16px;
  }
  h1 {
    font-size: 20px;
    margin-bottom: 12px;
  }
  #searchBar {
    width: 100%;
    padding: 8px;
    margin-bottom: 12px;
    font-size: 14px;
    border-radius: 6px;
    border: 1px solid #ccc;
  }
  details {
    margin-bottom: 12px;
  }
  summary {
    font-weight: 600;
    cursor: pointer;
    padding: 6px;
    background: #e0e7ff;
    border-radius: 6px;
  }
  .video {
    background: #fff;
    border-radius: 8px;
    padding: 8px;
    margin-bottom: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  }
  .video img, .video iframe {
    width: 100%;
    border-radius: 6px;
  }
  .title {
    font-weight: 600;
    margin-top: 6px;
  }
</style>
</head>
<body>

<h1>ğŸ¶ ã‚ªãƒˆã¡ã‚ƒã‚“å‹•ç”»</h1>

<!-- æ¤œç´¢ãƒãƒ¼ -->
<input type="text" id="searchBar" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢..." />

<!-- å‹•ç”»ä¸€è¦§ -->
<div id="videos">èª­ã¿è¾¼ã¿ä¸­...</div>

<script src="main.js"></script>
<script>
  // main.js ã® initViewer ã‚’å‘¼ã³å‡ºã™
  initViewer();

  // æ¤œç´¢ãƒãƒ¼é€£å‹•
  const searchInput = document.getElementById("searchBar");
  searchInput.addEventListener("input", e => {
    const filter = e.target.value.toLowerCase();
    document.querySelectorAll("#videos details").forEach(details => {
      let hasVisible = false;
      details.querySelectorAll(".video").forEach(v => {
        const title = v.querySelector(".title")?.textContent.toLowerCase() || "";
        const match = title.includes(filter);
        v.style.display = match ? "" : "none";
        if (match) hasVisible = true;
      });
      details.style.display = hasVisible ? "" : "none";
    });
  });
</script>

</body>
</html>
